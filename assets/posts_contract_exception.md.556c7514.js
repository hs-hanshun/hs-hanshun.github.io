import{_ as e,o as r,c as n,f as t}from"./app.0387de29.js";const f='{"title":"Solidity\u5F02\u5E38","description":"\u5F02\u5E38","frontmatter":{"date":"2023-01-11T00:00:00.000Z","title":"Solidity\u5F02\u5E38","tags":["\u667A\u80FD\u5408\u7EA6","Solidity"],"description":"\u5F02\u5E38"},"headers":[{"level":2,"title":"\u5F02\u5E38","slug":"\u5F02\u5E38"},{"level":2,"title":"Require","slug":"require"},{"level":2,"title":"Assert","slug":"assert"}],"relativePath":"posts/contract/exception.md"}',s={},a=t(`<h1 id="solidity\u5F02\u5E38" tabindex="-1">Solidity\u5F02\u5E38 <a class="header-anchor" href="#solidity\u5F02\u5E38" aria-hidden="true">#</a></h1><h2 id="\u5F02\u5E38" tabindex="-1">\u5F02\u5E38 <a class="header-anchor" href="#\u5F02\u5E38" aria-hidden="true">#</a></h2><p>error\u662Fsolidity 0.8.4\u7248\u672C\u65B0\u52A0\u7684\u5185\u5BB9\uFF0C\u65B9\u4FBF\u4E14\u9AD8\u6548\uFF08\u7701gas\uFF09\u5730\u5411\u7528\u6237\u89E3\u91CA\u64CD\u4F5C\u5931\u8D25\u7684\u539F\u56E0\uFF0C\u540C\u65F6\u8FD8\u53EF\u4EE5\u5728\u629B\u51FA\u5F02\u5E38\u7684\u540C\u65F6\u643A\u5E26\u53C2\u6570\uFF0C\u5E2E\u52A9\u5F00\u53D1\u8005\u66F4\u597D\u5730\u8C03\u8BD5\u3002\u4EBA\u4EEC\u53EF\u4EE5\u5728contract\u4E4B\u5916\u5B9A\u4E49\u5F02\u5E38\u3002\u4E0B\u9762\uFF0C\u6211\u4EEC\u5B9A\u4E49\u4E00\u4E2ATransferNotOwner\u5F02\u5E38\uFF0C\u5F53\u7528\u6237\u4E0D\u662F\u4EE3\u5E01owner\u7684\u65F6\u5019\u5C1D\u8BD5\u8F6C\u8D26\uFF0C\u4F1A\u629B\u51FA\u9519\u8BEF\uFF1A</p><div class="language-"><pre><code>error TransferNotOwner(); // \u81EA\u5B9A\u4E49error
</code></pre></div><p>\u6211\u4EEC\u4E5F\u53EF\u4EE5\u5B9A\u4E49\u4E00\u4E2A\u643A\u5E26\u53C2\u6570\u7684\u5F02\u5E38\uFF0C\u6765\u63D0\u793A\u5C1D\u8BD5\u8F6C\u8D26\u7684\u8D26\u6237\u5730\u5740</p><div class="language-"><pre><code>error TransferNotOwner(address sender); // \u81EA\u5B9A\u4E49\u7684\u5E26\u53C2\u6570\u7684error
</code></pre></div><p>\u5728\u6267\u884C\u5F53\u4E2D\uFF0Cerror\u5FC5\u987B\u642D\u914Drevert\uFF08\u56DE\u9000\uFF09\u547D\u4EE4\u4F7F\u7528\u3002</p><div class="language-"><pre><code>    function transferOwner1(uint256 tokenId, address newOwner) public {
        if(_owners[tokenId] != msg.sender){
            revert TransferNotOwner();
            // revert TransferNotOwner(msg.sender);
        }
        _owners[tokenId] = newOwner;
    }
</code></pre></div><p>\u6211\u4EEC\u5B9A\u4E49\u4E86\u4E00\u4E2AtransferOwner1()\u51FD\u6570\uFF0C\u5B83\u4F1A\u68C0\u67E5\u4EE3\u5E01\u7684owner\u662F\u4E0D\u662F\u53D1\u8D77\u4EBA\uFF0C\u5982\u679C\u4E0D\u662F\uFF0C\u5C31\u4F1A\u629B\u51FATransferNotOwner\u5F02\u5E38\uFF1B\u5982\u679C\u662F\u7684\u8BDD\uFF0C\u5C31\u4F1A\u8F6C\u8D26\u3002</p><h2 id="require" tabindex="-1">Require <a class="header-anchor" href="#require" aria-hidden="true">#</a></h2><p>require\u547D\u4EE4\u662Fsolidity 0.8\u7248\u672C\u4E4B\u524D\u629B\u51FA\u5F02\u5E38\u7684\u5E38\u7528\u65B9\u6CD5\uFF0C\u76EE\u524D\u5F88\u591A\u4E3B\u6D41\u5408\u7EA6\u4ECD\u7136\u8FD8\u5728\u4F7F\u7528\u5B83\u3002\u5B83\u5F88\u597D\u7528\uFF0C\u552F\u4E00\u7684\u7F3A\u70B9\u5C31\u662Fgas\u968F\u7740\u63CF\u8FF0\u5F02\u5E38\u7684\u5B57\u7B26\u4E32\u957F\u5EA6\u589E\u52A0\uFF0C\u6BD4error\u547D\u4EE4\u8981\u9AD8\u3002\u4F7F\u7528\u65B9\u6CD5\uFF1Arequire(\u68C0\u67E5\u6761\u4EF6\uFF0C&quot;\u5F02\u5E38\u7684\u63CF\u8FF0&quot;)\uFF0C\u5F53\u68C0\u67E5\u6761\u4EF6\u4E0D\u6210\u7ACB\u7684\u65F6\u5019\uFF0C\u5C31\u4F1A\u629B\u51FA\u5F02\u5E38\u3002</p><p>\u6211\u4EEC\u7528require\u547D\u4EE4\u91CD\u5199\u4E00\u4E0B\u4E0A\u9762\u7684transferOwner\u51FD\u6570\uFF1A</p><div class="language-"><pre><code>    function transferOwner2(uint256 tokenId, address newOwner) public {
        require(_owners[tokenId] == msg.sender, &quot;Transfer Not Owner&quot;);
        _owners[tokenId] = newOwner;
    }
</code></pre></div><h2 id="assert" tabindex="-1">Assert <a class="header-anchor" href="#assert" aria-hidden="true">#</a></h2><p>assert\u547D\u4EE4\u4E00\u822C\u7528\u4E8E\u7A0B\u5E8F\u5458\u5199\u7A0B\u5E8Fdebug\uFF0C\u56E0\u4E3A\u5B83\u4E0D\u80FD\u89E3\u91CA\u629B\u51FA\u5F02\u5E38\u7684\u539F\u56E0\uFF08\u6BD4require\u5C11\u4E2A\u5B57\u7B26\u4E32\uFF09\u3002\u5B83\u7684\u7528\u6CD5\u5F88\u7B80\u5355\uFF0Cassert(\u68C0\u67E5\u6761\u4EF6\uFF09\uFF0C\u5F53\u68C0\u67E5\u6761\u4EF6\u4E0D\u6210\u7ACB\u7684\u65F6\u5019\uFF0C\u5C31\u4F1A\u629B\u51FA\u5F02\u5E38\u3002</p><p>\u6211\u4EEC\u7528assert\u547D\u4EE4\u91CD\u5199\u4E00\u4E0B\u4E0A\u9762\u7684transferOwner\u51FD\u6570\uFF1A</p><div class="language-"><pre><code>    function transferOwner3(uint256 tokenId, address newOwner) public {
        assert(_owners[tokenId] == msg.sender);
        _owners[tokenId] = newOwner;
    }
</code></pre></div>`,17),o=[a];function d(i,c,l,p,u,w){return r(),n("div",null,o)}var h=e(s,[["render",d]]);export{f as __pageData,h as default};
